<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <title>Login</title>
      <link rel="stylesheet" href="../../../node_modules/bootstrap/dist/css/bootstrap.min.css">
      <link rel="stylesheet" href="css/login.css">
      <link rel="stylesheet" href="css/stylefonts.css">
   </head>
   <body class="text-center bg-secondary position-absolute h-100 col-12 p-0">
      <div  class="col-6 h-100 loginBg" style="display: none;"> 
         <div class="col-10 mx-auto" >
            <h3 id="nombreUsuario" class="text-white"></h3>
            <input onblur="consultarNombre()" type="text" id="inputUsuario" class="col-12 my-3 p-2 inputsLogin" value="" placeholder="Usuario">
            <input type="password" id="inputContrasena" class="col-12 my-3 p-2 inputsLogin" value="" placeholder="Contraseña">
            <div class="loader" style="display: none;">
               <div  class=" spinner-grow text-light" role="status">
                  <span class="sr-only">Loading...</span>
               </div>
               <div  class=" spinner-grow text-dark" role="status">
                  <span class="sr-only">Loading...</span>
               </div>
            </div>
            <button id="btnLogin" type="button" onclick="login()" class="btn btnLogin col-12 my-3">Entrar</button>
            <button type="button" onclick="cancelar()" class="btn btn-link " style="color: #fff;">Cancelar</button>
         </div>
      </div>
      <div class="col-12 h-100 loginBg_2">
         <img src="img/logoTipo.png">
         <div class="mt-3" id="version" style="position: absolute; bottom: 0; right: 5px; color: #aaaaaa;" ></div>
         <div class="mt-3" id="server_" style="position: absolute; bottom: 0; left: 5px; color: #aaaaaa;" ></div>
      </div>
      <div style="top: 5px;right: 5px;font-size: 18px; cursor: pointer;" class="position-absolute text-white">
         <div class="dropdown">
            <span class="icon-cogs" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ></span>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
               <a onclick="abrirConf()" class="dropdown-item" href="#">Configurar</a>
               <div class="dropdown-divider"></div>
               <a onclick="limpiarCache()" class="dropdown-item" href="#">Limpiar cache</a>
               <div class="dropdown-divider"></div>
               <a onclick="testTipi()" class="dropdown-item" href="#">Test de conexión</a>
            </div>
         </div>
      </div>


      <div class="col d-none float-left bg-light h-100 px-0 position-relative" id="divOpen">
      </div>
       <!-- Modal -->
       <div class="modal fade" id="modalSesion" tabindex="-1" role="dialog" aria-labelledby="modalSesionLabel" aria-hidden="true">
         <div class="modal-dialog" role="document">
           <div class="modal-content">
             <div class="modal-header bg-dark text-white">
               <h5 class="modal-title" id="modalSesionLabel">¡Aviso!</h5>
               <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                 <span aria-hidden="true">&times;</span>
               </button>
             </div>
             <div class="modal-body" id="mensajeModal">
              
             </div>
             <div class="modal-footer">
               <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
               <button type="button" onclick="limpiarSesiones()" class="btn btn-dark">Limpiar sesiones</button>
               <button type="button" onclick="limpiarReceso()" class="btn btn-danger">Terminar recesos vencidos</button>
             </div>
           </div>
         </div>
       </div>

       <!-- Modal versiones -->
      <div class="modal fade" id="modalVersion" tabindex="-1" role="dialog" aria-labelledby="modalSesionLabel" aria-hidden="true">
         <div class="modal-dialog" role="document">
           <div class="modal-content">
             <div class="modal-header bg-dark text-white">
               <h5 class="modal-title" id="modalSesionLabel">Nueva versión disponible</h5>
               <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                 <span aria-hidden="true">&times;</span>
               </button>
             </div>
             <div class="modal-body" id="mensajeModal">
                 <p id="mensajeV" style="display: block;">Es necesario actualizar la aplicación a la versión: <br>
                   <strong id="versionlbl"></strong>
                 </p>
                 <div class="loader" id="loader" style="display: none;">
 
                   <div class=" spinner-grow text-primary" role="status">
                       <span class="sr-only">Loading...</span>
                   </div>
                   <div class=" spinner-grow text-dark" role="status">
                       <span class="sr-only">Loading...</span>
                   </div>
                   <div>Conectando con el servidor...</div>
               </div>
             </div>
             <div class="modal-footer">
                 <button type="button" class="btn btn-danger" onclick="cancelar()" >Cancelar</button>
                 <button type="button" class="btn btn-primary" onclick="descargarVersion()">Descargar</button>
               </div>
           </div>
         </div>
       </div>
   </body>
   <script src="js/login.js"></script>
</html>